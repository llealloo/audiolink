## Developer Notes

### `reup.bat` for auto syncing a developer branch

First, fork vrc-udon-audio-link into your personal github account using the github GUI, then make a new unity project called `AudioLinkWork` then, check out your copy of of vrc-udon-audio-link, and move its contents, `.git` included into the `Assets` folder of the project you made.  Once done, place the following .bat file in that Assets folder.

I recommend executing this following `reup.bat` from the command line to address merge conflicts and other errors.

```bat
rem be sure you're on the `dev` branch!
git remote set-url origin https://github.com/llealloo/vrc-udon-audio-link
git pull
git remote set-url origin https://github.com/YOUR_GITHUB_USERNAME_HERE/vrc-udon-audio-link
```

### Version update processes

Make sure the sample scene (the one you can open with a dropdown) still works.
If necessary, open it in editor, fix it, and transplant it back into Packages/com.llealloo.audiolink/Samples~...

Update the version number in all places. These are:
- Number at the top of the changelog (just make sure the latest version number in the changelog is correct)
- Version number in .github/workflows/StandaloneMetadata/package.json
- Version number in Packages/com.llealloo.audiolink/package.json
- A string in AudioLinkAssetManager.OpenExampleScene in AudioLinkAssetManager.cs, at the top of the function
- Version number in Packages/com.llealloo.audiolink/Runtime/VERSION.txt
- The AUDIOLINK_VERSION_NUMBER float in AudioLink.cs.
    - We use convention 0.3.x == 3.x where x is padded to 2 digits,
      so 0.3.2 would be 3.02f as a float

Go through the commit history since last release, make sure that everything is in the changelog.

Update the date at the latest changelog entry to the date of the release.

Edit our README.md:
- The readme always contains the last changelog entry, so remove the one from last release.
- Copy the last section from the changelog in place of what you deleted. Make sure they are consistent with eachother.

Edit our Docs/README.md:
- If there are any new features, make sure they are documented in this readme.
- If relevant, add a new column to the table under the section "The AudioLink Texture" with the relevant checkmarks.

Grab the package zip generated by our CI (on dev branch), consider it a release candidate. Test that it works with a new project, by using the VCC's ability to add custom packages from disk.

Check that upgrading a project from the previous version of AudioLink via VCC works. With the aforementioned feature, if the package name matches, it should let you upgrade.

After testing that everything works, merge dev into master and DON'T SQUASH! This will automatically start a new CI job that creates a GitHub release for you. It should pull out part of the changelog to use as the description automatically, if you follow the usual format, but verify that the description looks correct.

Poke llealloo to update the live world and submit the new package candidate to the curated packages form.

Make an announcement in the discord follow the template from previous ones 
